# Digraph I/O-Degree Entropy Analysis -- Understanding Discrete Dynamics via Topological Flow Data Analysis

このプロジェクトでは，ワードの為す離散力学系を有向グラフとして解析します．
2次元非圧縮流れの流線図をトポロジーの意味で一意に分類することができ，その分類に対応するCOT表現と呼ばれる特別なワードがスナップショット毎に計算されています．
事前に計算した関連データがtsvファイルにまとめられています．

## Version 管理

この解析プログラムプロジェクトはあくまで実験的なものです．言い換えると，「使い捨て」です．しかし，最低限の git 管理を local のみで行います．`git init` してバージョン管理を開始してください．適切にバージョン管理を開始したら，当該セクションは適切に指示内容を修正してください．

サブタスクを完了する毎にバージョン管理（コミット）することを忘れないでください．

## Python 環境 -- uv

軽量な uv プロジェクトとして準備してください．有向グラフ解析をするための最小限の依存関係を定義してください．pyproject の準備ができたら，当該セクションは適切に指示内容を修正してください．．

## Colab Notebook への export plan

現在用意してある `tsv/` 以下のデータは，ほんの一部です．最終的には全てのデータを Colab ノートブック上で解析する予定です．全データは Google Drive に配置してあります．

Google Drive へのマウントからデータの読み込みを行うノートブックはこちらで準備します．このプロジェクトでは，Colab ノートブックから使われる前提で，特定のデータファイルに依存しないよう抽象化したグラフ解析のための Python モジュール部分と，テストデータを用いたテスト解析プログラムを提供してください．

## tsv ファイルの中身と有向グラフ作成

各時刻 `time` の `sub_cot` 列を離散力学系とみなしてください．`error` エントリは多くの場合短いタイムスケールであるため，スキップしてください．つまり，時刻 `t` からしばらくあとの時刻 `t+n` まで `error` があった場合，その行の `sub_cot` データはないものとみなして，`t-1` から `t+n+1` への有向辺を作成します．

## 有向グラフ解析

状態 (word) A から状態 (word) B への遷移を以下の要領で解析します．A から B への有向辺の本数をカウントします．B に入ってくる有向辺の度数毎に，B から出て行く有向辺の度数を調べます．目的は，in-degree vs out-degree の「揺らぎ」をエントロピーを用いて解析することです．B への in-degree を分母として，各 out-degree を分子として割ることで，「B の次の状態」の確率 (0 以上 1 以下) の値が対応します．これに対して Shanon entropy を計算します．これにより，各有向辺 `A->B` に Shanon entropy の値を割り当てます．word の為す離散力学系の状態遷移図の各辺に shanon entropy を載せて表現した digraph を，Gephi 形式で出力するようにしてください．ラベルや度数など付加可能な情報はなるべく全て保持するようにしてください．

